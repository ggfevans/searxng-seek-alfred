<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>ca.gvns.seek.alfred</string>
	<key>category</key>
	<string>Internet</string>
	<key>connections</key>
	<dict>
		<key>C8E9F0A1-2B3C-4D5E-6F7A-8B9C0D1E2F3A</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>110802D2-8EA0-42A2-9E3F-EF61E70504E7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitowards</key>
				<string></string>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>110802D2-8EA0-42A2-9E3F-EF61E70504E7</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitowards</key>
				<string></string>
			</dict>
		</array>
		<key>A7087C90-0C31-4269-983C-868379879BA7</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>110802D2-8EA0-42A2-9E3F-EF61E70504E7</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitowards</key>
				<string></string>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>110802D2-8EA0-42A2-9E3F-EF61E70504E7</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitowards</key>
				<string></string>
			</dict>
		</array>
		<key>B8F3D2A1-5E4C-4B9A-8D7F-1A2B3C4D5E6F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>A90F3B4C-C814-4CF0-9010-78FA06412154</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitowards</key>
				<string></string>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>ggfevans</string>
	<key>description</key>
	<string>SearXNG search for Alfred — private web search with inline results</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>Seek</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>alfredfiltersresultsmatchmode</key>
				<integer>2</integer>
				<key>argumenttreatemptyqueryasnil</key>
				<false/>
				<key>argumenttrimmode</key>
				<integer>0</integer>
				<key>argumenttype</key>
				<integer>1</integer>
				<key>escaping</key>
				<integer>102</integer>
				<key>keyword</key>
				<string>sx</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<true/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Seeking...</string>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>scripts/search.js</string>
				<key>subtext</key>
				<string>Private web search via SearXNG</string>
				<key>title</key>
				<string>Seek</string>
				<key>type</key>
				<integer>8</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>A7087C90-0C31-4269-983C-868379879BA7</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>alfredfiltersresultsmatchmode</key>
				<integer>2</integer>
				<key>argumenttreatemptyqueryasnil</key>
				<false/>
				<key>argumenttrimmode</key>
				<integer>0</integer>
				<key>argumenttype</key>
				<integer>1</integer>
				<key>escaping</key>
				<integer>102</integer>
				<key>keyword</key>
				<string>seek</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<true/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Seeking...</string>
				<key>script</key>
				<string></string>
				<key>scriptargtype</key>
				<integer>1</integer>
				<key>scriptfile</key>
				<string>scripts/search.js</string>
				<key>subtext</key>
				<string>Private web search via SearXNG</string>
				<key>title</key>
				<string>Seek</string>
				<key>type</key>
				<integer>8</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>C8E9F0A1-2B3C-4D5E-6F7A-8B9C0D1E2F3A</string>
			<key>version</key>
			<integer>3</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>browser</key>
				<string></string>
				<key>spaces</key>
				<string></string>
				<key>url</key>
				<string>{query}</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.openurl</string>
			<key>uid</key>
			<string>110802D2-8EA0-42A2-9E3F-EF61E70504E7</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>text</key>
				<string>Seek</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.trigger.fallback</string>
			<key>uid</key>
			<string>B8F3D2A1-5E4C-4B9A-8D7F-1A2B3C4D5E6F</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>browser</key>
				<string></string>
				<key>spaces</key>
				<string></string>
				<key>url</key>
				<string>{var:searxng_url}/search?q={query}</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.openurl</string>
			<key>uid</key>
			<string>A90F3B4C-C814-4CF0-9010-78FA06412154</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>**Seek** — Private web search via your SearXNG instance.

## Setup

1. Set your SearXNG URL in the workflow configuration
2. Ensure your SearXNG instance has JSON format enabled in settings.yml:

   search:
     formats:
       - html
       - json

### Favicons (Optional)

To display website favicons in search results:

1. Enable favicon support in your SearXNG settings.yml:

   search:
     favicon_resolver: "duckduckgo"

2. Copy your secret_key from settings.yml (server.secret_key) into the workflow configuration

Favicons are fetched through your own SearXNG instance's favicon proxy, preserving privacy.

### Replace Default Web Search (Optional)

To use SearXNG as your default fallback search (instead of Google):

1. Open Alfred Preferences → Features → Default Results
2. Click "Setup fallback results" at the bottom
3. Click + and find "Seek" under this workflow
4. Drag it to the top of the list (or remove Google)

Now when you type anything and press Enter, it searches SearXNG!

## Usage

- Type `sx` or `seek` followed by your search query (shows results in Alfred)
- Or use as fallback search (opens SearXNG in browser)
- Press Enter to open the result in your browser
- Press ⌘C to copy the URL
- Press ⌘L to show the title in Large Type
- Press ⌥ Enter to open the search in SearXNG web interface
- Press Shift or ⌘Y for Quick Look preview

## Keyboard Shortcuts

| Key | Action |
|-----|--------|
| Enter | Open URL in browser |
| ⌘C | Copy URL to clipboard |
| ⌘L | Show title in Large Type |
| ⌥ Enter | View in SearXNG web UI |
| Shift / ⌘Y | Quick Look preview |
</string>
	<key>uidata</key>
	<dict>
		<key>110802D2-8EA0-42A2-9E3F-EF61E70504E7</key>
		<dict>
			<key>xpos</key>
			<real>270</real>
			<key>ypos</key>
			<real>50.0</real>
		</dict>
		<key>A7087C90-0C31-4269-983C-868379879BA7</key>
		<dict>
			<key>xpos</key>
			<real>50</real>
			<key>ypos</key>
			<real>50</real>
		</dict>
		<key>A90F3B4C-C814-4CF0-9010-78FA06412154</key>
		<dict>
			<key>xpos</key>
			<real>270</real>
			<key>ypos</key>
			<real>170</real>
		</dict>
		<key>B8F3D2A1-5E4C-4B9A-8D7F-1A2B3C4D5E6F</key>
		<dict>
			<key>xpos</key>
			<real>50</real>
			<key>ypos</key>
			<real>170</real>
		</dict>
		<key>C8E9F0A1-2B3C-4D5E-6F7A-8B9C0D1E2F3A</key>
		<dict>
			<key>xpos</key>
			<real>50</real>
			<key>ypos</key>
			<real>290</real>
		</dict>
	</dict>
	<key>userconfigurationconfig</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string></string>
				<key>placeholder</key>
				<string>https://search.example.com</string>
				<key>required</key>
				<true/>
				<key>trim</key>
				<true/>
			</dict>
			<key>description</key>
			<string>The URL of your SearXNG instance (e.g., https://search.example.com). The instance must have JSON format enabled in settings.yml.</string>
			<key>label</key>
			<string>SearXNG URL</string>
			<key>type</key>
			<string>textfield</string>
			<key>variable</key>
			<string>searxng_url</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string>5000</string>
				<key>placeholder</key>
				<string>5000</string>
				<key>required</key>
				<false/>
				<key>trim</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Request timeout in milliseconds. Increase if your SearXNG instance is slow or on a high-latency connection.</string>
			<key>label</key>
			<string>Timeout (ms)</string>
			<key>type</key>
			<string>textfield</string>
			<key>variable</key>
			<string>timeout_ms</string>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>default</key>
				<string></string>
				<key>placeholder</key>
				<string>ultrasecretkey</string>
				<key>required</key>
				<false/>
				<key>trim</key>
				<true/>
			</dict>
			<key>description</key>
			<string>Secret key from your SearXNG settings.yml (server.secret_key). Required to display website favicons via SearXNG's favicon proxy. Leave empty to disable favicons.</string>
			<key>label</key>
			<string>Secret Key (for favicons)</string>
			<key>type</key>
			<string>textfield</string>
			<key>variable</key>
			<string>secret_key</string>
		</dict>
	</array>
	<key>version</key>
	<string>0.2.0</string>
	<key>webaddress</key>
	<string>https://github.com/ggfevans/Seek</string>
</dict>
</plist>
